<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_redheart</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-101</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// initialize stuuf
image_alpha = 1;
draw_set_alpha(1);
global.buttonpos = 4;
global.drawnames = false;
nointeract = false;
onceonly = 1;
inbox = 0;

scr_getinput();
spd = 3;

notagain = true;

heart_tick_count = 0;

state = scr_nomove_state;

trigger_draw_dialogbox = false;
heart_tick_count = 0;
encounter_start = true;
encounter_transition = false;
encounter_full = false;
touchedit = false;

buttonx[0] = 32;
buttonx[1] = 182;
buttonx[2] = 342;
buttonx[3] = 502;
dictionaryinitialize = false

phy_position_x = obj_player_main.newx * 2;
phy_position_y = obj_player_main.newy * 2;

startx = 0;
starty = 0;

scr_encounterstart();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///ayy lmao mk 2
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// ayy lmao
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// teleport to player
phy_position_x = 320
phy_position_y = 240
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// for use in scr_encounterstart

image_alpha = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Heart movement

// check each frame that this is created for what phase the fight is in
scr_encounterstart(); // draws the heart ticking anim
scr_encountertransition(); // draws the fight buttons
scr_encounterfull(); // handles the setting of the state to the apropriate one

if (global.buttonpos == 4) { // if buttonpos is at initialized val ...
    script_execute(state) // ... execute the state (nomove or move)
} else {
    scr_fight_state() // run the state for moving between buttons and selecting actions
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="75">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// draw the names in the fight box
if (global.drawnames == true) {
    for (v = 0; v &lt; global.monstercount; v++) {
        indexofmonstertodraw = global.ruinsencounternum+global.monstercount-v-1;
        scr_readmonster(global.ruinsencounters[indexofmonstertodraw]);
        if (v &lt;= 1) {
            if (v % 2 == 0) {
                draw_text_ext_colour(0,0,global.ruinsencounters[indexofmonstertodraw],0,1000,c_white,c_white,c_white,c_white,255);
            } else {
                draw_text_ext_colour(0,0,global.ruinsencounters[indexofmonstertodraw],0,1000,c_white,c_white,c_white,c_white,255);
            }
        } else if (v &gt; 1) {
            if (v % 2 == 0) {
                draw_text_ext_colour(0,0,global.ruinsencounters[indexofmonstertodraw],0,1000,c_white,c_white,c_white,c_white,255);
            } else {
                draw_text_ext_colour(0,0,global.ruinsencounters[indexofmonstertodraw],0,1000,c_white,c_white,c_white,c_white,255);
            }
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="74">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// draw fight based on scr_encounter vars
if (encounter_start == true) {
    draw_self()
}

if (encounter_transition == true) {
    // draw gui background
    draw_rectangle_colour(0,0,display_get_gui_width(),display_get_gui_height(),c_black,c_black,c_black,c_black,false);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// draw a FIGHT with UI etc.

if (encounter_transition == true) {
    // draw fight buttons (fight/act/item/mercy)
    // lights up if heart is on the button
    if (global.buttonpos == 0) { // fight
        draw_sprite(spr_fight_fight,1,buttonx[0],428);
    } else {
        draw_sprite(spr_fight_fight,0,buttonx[0],428);
    }
    // lights up if heart is on the button
    if (global.buttonpos == 1) { // act
        draw_sprite(spr_fight_act,1,buttonx[1],428);
    } else {
        draw_sprite(spr_fight_act,0,buttonx[1],428);
    }
    // lights up if heart is on the button
    if (global.buttonpos == 2) { // item
        draw_sprite(spr_fight_item,1,buttonx[2],428);
    } else {
        draw_sprite(spr_fight_item,0,buttonx[2],428);
    }
    // lights up if heart is on the button
    if (global.buttonpos = 3) { // mercy
        draw_sprite(spr_fight_mercy,1,buttonx[3],428);
    } else {
        draw_sprite(spr_fight_mercy,0,buttonx[3],428);
    }
    
    if (global.buttonpos == 0) { // if player gets to the first button...
        trigger_draw_dialogbox = true;
    }
    
    if (trigger_draw_dialogbox == true) { // ...draw gui dialog box
        draw_rectangle_colour(31,249,607,255,c_white,c_white,c_white,c_white,false);    // top bounding
        draw_rectangle_colour(31,384,607,390,c_white,c_white,c_white,c_white,false);    // bottom bounding
        draw_rectangle_colour(31,249,37,390,c_white,c_white,c_white,c_white,false);     // left bounding
        draw_rectangle_colour(605,249,612,390,c_white,c_white,c_white,c_white,false);   // right bounding
        
    }
    
    draw_self()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>-1</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>1</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,0</point>
    <point>16,0</point>
    <point>16,16</point>
    <point>0,16</point>
  </PhysicsShapePoints>
</object>
